<div class="border-l-black-300 border-l-2 pl-4 w-full">
  <turbo-frame id="subcategory-header" class="mb-4">
    <%= render partial: 'header', locals: { category: @category, frame: 'subcategory-header' } %>
  </turbo-frame>

  <div>
    <div id="subcategories-list">
      <% category.subcategories.each do |category| %>
        <%= render partial: 'category', locals: { category: category } %>
      <% end %>
    </div>

    <h2 class="text-2xl mb-4">
      <span>Tasks</span>
      <%= link_to new_category_task_path(category) do %>
        <i class="fas fa-plus"></i>
      <% end %>
    </h2>

    <ul class="mb-4">
      <% category.tasks.each do |task| %>
        <li class="flex gap-2 items-center">
          <p><%= task.name %> | <%= task.description %> | <%= task.status %></p>
          <%= link_to edit_category_task_path(category, task) do %>
            <i class="fas fa-edit"></i>
          <% end %>

          <%= button_to category_task_path(category, task), method: :delete, data: { confirm: 'Are you sure?' } do %>
            <i class="fas fa-trash-alt"></i>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <%= link_to category&.parent_id ? category_path(category&.parent_id) : categories_path do %>
    <i class="fa-solid fa-ban"></i>
  <% end %>
</div>
